<!-- This Code has been sponged and munged!!!!!
95 percent of this code came from two devs who shared online, and I just 
mashed, sanded, spackled and duct taped until I got my result to run on my phone. 
They are:
cgack (Cory Gackenheimer) https://developer.mozilla.org/en-US/demos/detail/simple-compass
- this app was just what I wanted - simplest possible compass, but it didn't behave on my iPhone
  and 
Ruadhan O'Donoghue http://mobiforge.com/design-development/html5-mobile-web-device-orientation-events
- this app is the best basic Html5 compass demo out there, very good work, but it uses a graphic and I wanted just one file. 
So I mashed 'em together and it still works. Yay!
-->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"> 
	<meta name="apple-mobile-web-app-capable" content="yes">  
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">  
	
	<meta name="HandheldFriendly" content="True">   
	<meta name="MobileOptimized" content="320"/>   
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	
	<script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" />       
	
	<title>Simplistic HTML5 Compass</title>

	<style>
	.pointer-stake {
		height: 0;
		width: 0;
		border-left: 1em solid transparent;
		border-right: 1em solid transparent;
		border-bottom: 6em solid gray;
		margin: -10px 0 0 -40px;
		top: 45%;
		left: 52%;
		position: absolute;
	}
	.northsouth {
		top: 20%;
		left:50%;
		position:absolute;
		font:7em Courier;
		margin: 0 0 0 -40px;
	}
	</style>

	<script>
	$(document).ready(function() {
		if (window.DeviceOrientationEvent) {
			window.addEventListener('deviceorientation', function(event) {
				var dir='';
				var alpha;
	  //Check for iOS property to determine which way to set alpha
	  if(event.webkitCompassHeading) {
	  	alpha = event.webkitCompassHeading;
	    //Direction is reversed for iOS
	    dir='-';
	}
	else alpha = event.alpha;
	
	$(".northsouth").css({ 'transform': 'rotate(' + alpha + 'deg)'});
	$(".northsouth").css({ 'webkit-transform': 'rotate('+dir + alpha + 'deg)'});
	$(".northsouth").css({ 'moz-transform': 'rotate(-' + alpha + 'deg)'});  

	}, false);
	}
	});
	</script>
</head>

<body>
	<div id="page1" data-role="page">
		<header data-role="header" data-position="fixed">
			<h1></h1>
		</header>
			<section data-role="content" style="padding: 10px 0;">
				<div class="northsouth">N<br><br><br>S</div>
				<div class="pointer-stake"></div>
			</section>
		</div>
	</body>
	</html>
